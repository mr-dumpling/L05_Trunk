Index: vendor/branch/5058A_Telcel/packages/services/Telephony/src/com/android/services/telephony/DisconnectCauseUtil.java
===================================================================
--- vendor/branch/5058A_Telcel/packages/services/Telephony/src/com/android/services/telephony/DisconnectCauseUtil.java	(revision 6172)
+++ vendor/branch/5058A_Telcel/packages/services/Telephony/src/com/android/services/telephony/DisconnectCauseUtil.java	(revision 6173)
@@ -27,7 +27,7 @@
 import android.provider.Settings;
 /// @}
 import android.telecom.DisconnectCause;
-import android.telephony.TelephonyManager;
+
 import com.android.phone.PhoneGlobals;
 import com.android.phone.common.R;
 import com.android.phone.ImsUtil;
@@ -150,14 +150,51 @@
             /// M: CC: Error message due to VoLTE SS checking @{
             case android.telephony.DisconnectCause.VOLTE_SS_DATA_OFF:
             /// @}
-            /* add Start by chenhu, 2018-01-08 for call celar code */
-            case android.telephony.DisconnectCause.NUMBER_CHANGED:
-            case android.telephony.DisconnectCause.STATUS_ENQUIRY:
-            case android.telephony.DisconnectCause.TEMPORARY_FAILURE:
-            case android.telephony.DisconnectCause.CHANNEL_NOT_AVAIL:
-            case android.telephony.DisconnectCause.QOS_NOT_AVAIL:
-            case android.telephony.DisconnectCause.NETWORK_OUT_OF_ORDER:
-            /* add End by chenhu, 2018-01-08 for call celar code */
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_ONE: //add clear code 1
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREE: //add clear code 3
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIX: //add clear code 6
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHT: //add clear code 8
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENTEEN: //add clear code 17
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTEEN: //add clear code 18
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINETEEN: //add clear code 19
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOONE: //add clear code 21
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOTWO: //add clear code 22
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOSIX: //add clear code 26
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOSEVEN: //add clear code 27
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOEIGHT: //add clear code 28
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWONINE: //add clear code 29
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_THIRTY: //add clear code 30
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREEONE: //add clear code 31
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREEEIGHT: //add clear code 38
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURONE: //add clear code 41
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURTWO: //add clear code 42
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURTHREE: //add clear code 43
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURFOUR: //add clear code 44
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURSEVEN: //add clear code 47
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURNINE: //add clear code 49
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIFTY: //add clear code 50
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVEFIVE: //add clear code 55
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVESEVEN: //add clear code 57
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVEEIGHT: //add clear code 58
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXTHREE: //add clear code 63
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXFIVE: //add clear code 65
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXEIGHT: //add clear code 68
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXNINE: //add clear code 69
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENTY: //add clear code 70
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENNINE: //add clear code 79
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTONE: //add clear code 81
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTSEVEN: //add clear code 87
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTEIGHT: //add clear code 88
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINEFIVE: //add clear code 95
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINESIX: //add clear code 96
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINESEVEN: //add clear code 97
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINEEIGHT: //add clear code 98
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINENINE: //add clear code 99
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDRED: //add clear code 100
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDONE: //add clear code 101
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDTWO: //add clear code 102
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDELEVEN: //add clear code 111
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDTWOSEVEN: //add clear code 127
                 return DisconnectCause.ERROR;
 
             case android.telephony.DisconnectCause.DIALED_MMI:
@@ -295,6 +332,140 @@
                 resourceId = R.string.wfc_no_network;
                 break;
             ///@}
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_ONE: //add clear code 1
+                resourceId = R.string.callFailed_telcel_one;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREE: //add clear code 3
+                resourceId = R.string.callFailed_telcel_three;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIX: //add clear code 6
+                resourceId = R.string.callFailed_telcel_six;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHT: //add clear code 8
+                resourceId = R.string.callFailed_telcel_eight;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENTEEN: //add clear code 17
+                resourceId = R.string.callFailed_telcel_seventeen;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTEEN: //add clear code 18
+                resourceId = R.string.callFailed_telcel_eighteen;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINETEEN: //add clear code 19
+                resourceId = R.string.callFailed_telcel_nineteen;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOONE: //add clear code 21
+                resourceId = R.string.callFailed_telcel_twoone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOTWO: //add clear code 22
+                resourceId = R.string.callFailed_telcel_twotwo;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOSIX: //add clear code 26
+                resourceId = R.string.callFailed_telcel_twosix;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOSEVEN: //add clear code 27
+                resourceId = R.string.callFailed_telcel_twoseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOEIGHT: //add clear code 28
+                resourceId = R.string.callFailed_telcel_twoeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWONINE: //add clear code 29
+                resourceId = R.string.callFailed_telcel_twonine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THIRTY: //add clear code 30
+                resourceId = R.string.callFailed_telcel_thirty;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREEONE: //add clear code 231
+                resourceId = R.string.callFailed_telcel_threeone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREEEIGHT: //add clear code 38
+                resourceId = R.string.callFailed_telcel_threeeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURONE: //add clear code 41
+                resourceId = R.string.callFailed_telcel_fourone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURTWO: //add clear code 42
+                resourceId = R.string.callFailed_telcel_fourtwo;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURTHREE: //add clear code 43
+                resourceId = R.string.callFailed_telcel_fourthree;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURFOUR: //add clear code 44
+                resourceId = R.string.callFailed_telcel_fourfour;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURSEVEN: //add clear code 47
+                resourceId = R.string.callFailed_telcel_fourseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURNINE: //add clear code 49
+                resourceId = R.string.callFailed_telcel_fournine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIFTY: //add clear code 50
+                resourceId = R.string.callFailed_telcel_fifty;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVEFIVE: //add clear code 55
+                resourceId = R.string.callFailed_telcel_fivefive;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVESEVEN: //add clear code 57
+                resourceId = R.string.callFailed_telcel_fiveseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVEEIGHT: //add clear code 58
+                resourceId = R.string.callFailed_telcel_fiveeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXTHREE: //add clear code 63
+                resourceId = R.string.callFailed_telcel_sixthree;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXFIVE: //add clear code 65
+                resourceId = R.string.callFailed_telcel_sixfive;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXEIGHT: //add clear code 68
+                resourceId = R.string.callFailed_telcel_sixeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXNINE: //add clear code 69
+                resourceId = R.string.callFailed_telcel_sixnine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENTY: //add clear code 70
+                resourceId = R.string.callFailed_telcel_seventy;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENNINE: //add clear code 79
+                resourceId = R.string.callFailed_telcel_sevennine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTONE: //add clear code 81
+                resourceId = R.string.callFailed_telcel_eightone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTSEVEN: //add clear code 87
+                resourceId = R.string.callFailed_telcel_eightseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTEIGHT: //add clear code 88
+                resourceId = R.string.callFailed_telcel_eighteight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINEFIVE: //add clear code 95
+                resourceId = R.string.callFailed_telcel_ninefive;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINESIX: //add clear code 96
+                resourceId = R.string.callFailed_telcel_ninesix;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINESEVEN: //add clear code 97
+                resourceId = R.string.callFailed_telcel_nineseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINEEIGHT: //add clear code 98
+                resourceId = R.string.callFailed_telcel_nineeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINENINE: //add clear code 99
+                resourceId = R.string.callFailed_telcel_ninenine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDRED: //add clear code 100
+                resourceId = R.string.callFailed_telcel_hundred;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDONE: //add clear code 101
+                resourceId = R.string.callFailed_telcel_hundredone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDTWO: //add clear code 102
+                resourceId = R.string.callFailed_telcel_hundredtwo;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDELEVEN: //add clear code 111
+                resourceId = R.string.callFailed_telcel_hundredeleven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDTWOSEVEN: //add clear code 127
+                resourceId = R.string.callFailed_telcel_hundredtwoseven;
+                break;
             default:
                 break;
         }
@@ -475,155 +646,144 @@
             case android.telephony.DisconnectCause.OUTGOING_CANCELED_BY_SERVICE:
                 break;
             /// @}
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_ONE: //add clear code 1
+                resourceId = R.string.callFailed_telcel_one;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREE: //add clear code 3
+                resourceId = R.string.callFailed_telcel_three;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIX: //add clear code 6
+                resourceId = R.string.callFailed_telcel_six;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHT: //add clear code 8
+                resourceId = R.string.callFailed_telcel_eight;
+                break;
+            case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENTEEN: //add clear code 17
+                resourceId = R.string.callFailed_telcel_seventeen;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTEEN: //add clear code 18
+                resourceId = R.string.callFailed_telcel_eighteen;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINETEEN: //add clear code 19
+                resourceId = R.string.callFailed_telcel_nineteen;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOONE: //add clear code 21
+                resourceId = R.string.callFailed_telcel_twoone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOTWO: //add clear code 22
+                resourceId = R.string.callFailed_telcel_twotwo;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOSIX: //add clear code 26
+                resourceId = R.string.callFailed_telcel_twosix;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOSEVEN: //add clear code 27
+                resourceId = R.string.callFailed_telcel_twoseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWOEIGHT: //add clear code 28
+                resourceId = R.string.callFailed_telcel_twoeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_TWONINE: //add clear code 29
+                resourceId = R.string.callFailed_telcel_twonine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THIRTY: //add clear code 30
+                resourceId = R.string.callFailed_telcel_thirty;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREEONE: //add clear code 31
+                resourceId = R.string.callFailed_telcel_threeone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_THREEEIGHT: //add clear code 38
+                resourceId = R.string.callFailed_telcel_threeeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURONE: //add clear code 41
+                resourceId = R.string.callFailed_telcel_fourone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURTWO: //add clear code 42
+                resourceId = R.string.callFailed_telcel_fourtwo;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURTHREE: //add clear code 43
+                resourceId = R.string.callFailed_telcel_fourthree;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURFOUR: //add clear code 44
+                resourceId = R.string.callFailed_telcel_fourfour;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURSEVEN: //add clear code 47
+                resourceId = R.string.callFailed_telcel_fourseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FOURNINE: //add clear code 49
+                resourceId = R.string.callFailed_telcel_fournine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIFTY: //add clear code 50
+                resourceId = R.string.callFailed_telcel_fifty;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVEFIVE: //add clear code 55
+                resourceId = R.string.callFailed_telcel_fivefive;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVESEVEN: //add clear code 57
+                resourceId = R.string.callFailed_telcel_fiveseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_FIVEEIGHT: //add clear code 58
+                resourceId = R.string.callFailed_telcel_fiveeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXTHREE: //add clear code 63
+                resourceId = R.string.callFailed_telcel_sixthree;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXFIVE: //add clear code 65
+                resourceId = R.string.callFailed_telcel_sixfive;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXEIGHT: //add clear code 68
+                resourceId = R.string.callFailed_telcel_sixeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SIXNINE: //add clear code 69
+                resourceId = R.string.callFailed_telcel_sixnine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENTY: //add clear code 70
+                resourceId = R.string.callFailed_telcel_seventy;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_SEVENNINE: //add clear code 79
+                resourceId = R.string.callFailed_telcel_sevennine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTONE: //add clear code 81
+                resourceId = R.string.callFailed_telcel_eightone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTSEVEN: //add clear code 87
+                resourceId = R.string.callFailed_telcel_eightseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_EIGHTEIGHT: //add clear code 88
+                resourceId = R.string.callFailed_telcel_eighteight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINEFIVE: //add clear code 95
+                resourceId = R.string.callFailed_telcel_ninefive;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINESIX: //add clear code 96
+                resourceId = R.string.callFailed_telcel_ninesix;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINESEVEN: //add clear code 97
+                resourceId = R.string.callFailed_telcel_nineseven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINEEIGHT: //add clear code 98
+                resourceId = R.string.callFailed_telcel_nineeight;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_NINENINE: //add clear code 99
+                resourceId = R.string.callFailed_telcel_ninenine;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDRED: //add clear code 100
+                resourceId = R.string.callFailed_telcel_hundred;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDONE: //add clear code 101
+                resourceId = R.string.callFailed_telcel_hundredone;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDTWO: //add clear code 102
+                resourceId = R.string.callFailed_telcel_hundredtwo;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDELEVEN: //add clear code 111
+                resourceId = R.string.callFailed_telcel_hundredeleven;
+                break;
+			case android.telephony.DisconnectCause.OPERATOR_TELCEL_HUNDREDTWOSEVEN: //add clear code 127
+                resourceId = R.string.callFailed_telcel_hundredtwoseven;
+                break;
             default:
                 break;
         }
-		TelephonyManager telManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
-		String imsi = telManager.getSubscriberId();
-		if (imsi != null) {
-			if (imsi.startsWith("334020")) {
-				switch (telephonyDisconnectCause) {
-                case android.telephony.DisconnectCause.UNOBTAINABLE_NUMBER: //add clear code 1
-                    resourceId = R.string.callFailed_telcel_one;
-                    break;
-                case android.telephony.DisconnectCause.NO_ROUTE_TO_DESTINATION: //add clear code 3
-                    resourceId = R.string.callFailed_telcel_three;
-                    break;
-                case android.telephony.DisconnectCause.CHANNEL_UNACCEPTABLE: //add clear code 6
-                    resourceId = R.string.callFailed_telcel_six;
-                    break;
-                case android.telephony.DisconnectCause.OPERATOR_DETERMINED_BARRING: //add clear code 8
-                    resourceId = R.string.callFailed_telcel_eight;
-                    break;
-				case android.telephony.DisconnectCause.BUSY: //add clear code 17
-					resourceId = R.string.callFailed_telcel_seventeen;
-					break;
-				case android.telephony.DisconnectCause.NO_USER_RESPONDING: //add clear code 18
-					resourceId = R.string.callFailed_telcel_eighteen;
-					break;
-				case android.telephony.DisconnectCause.USER_ALERTING_NO_ANSWER: //add clear code 19
-					resourceId = R.string.callFailed_telcel_nineteen;
-					break;
-				case android.telephony.DisconnectCause.CALL_REJECTED: //add clear code 21
-					resourceId = R.string.callFailed_telcel_twoone;
-					break;
-				case android.telephony.DisconnectCause.NUMBER_CHANGED: //add clear code 22
-					resourceId = R.string.callFailed_telcel_twotwo;
-					break;
-				case android.telephony.DisconnectCause.NON_SELECTED_USER_CLEARING: //add clear code 26
-					resourceId = R.string.callFailed_telcel_twosix;
-					break;
-				case android.telephony.DisconnectCause.DESTINATION_OUT_OF_ORDER: //add clear code 27
-					resourceId = R.string.callFailed_telcel_twoseven;
-					break;
-				case android.telephony.DisconnectCause.INVALID_NUMBER_FORMAT: //add clear code 28
-					resourceId = R.string.callFailed_telcel_twoeight;
-					break;
-				case android.telephony.DisconnectCause.FACILITY_REJECTED: //add clear code 29
-					resourceId = R.string.callFailed_telcel_twonine;
-					break;
-				case android.telephony.DisconnectCause.STATUS_ENQUIRY: //add clear code 30
-					resourceId = R.string.callFailed_telcel_thirty;
-					break;
-				case android.telephony.DisconnectCause.NORMAL_UNSPECIFIED: //add clear code 31
-					resourceId = R.string.callFailed_telcel_threeone;
-					break;
-				case android.telephony.DisconnectCause.NETWORK_OUT_OF_ORDER: //add clear code 38
-					resourceId = R.string.callFailed_telcel_threeeight;
-					break;
-				case android.telephony.DisconnectCause.TEMPORARY_FAILURE: //add clear code 41
-					resourceId = R.string.callFailed_telcel_fourone;
-					break;
-				case android.telephony.DisconnectCause.SWITCHING_CONGESTION: //add clear code 42
-					resourceId = R.string.callFailed_telcel_fourtwo;
-					break;
-				case android.telephony.DisconnectCause.ACCESS_INFORMATION_DISCARDED: //add clear code 43
-					resourceId = R.string.callFailed_telcel_fourthree;
-					break;
-				case android.telephony.DisconnectCause.CHANNEL_NOT_AVAIL: //add clear code 44
-					resourceId = R.string.callFailed_telcel_fourfour;
-					break;
-				case android.telephony.DisconnectCause.RESOURCE_UNAVAILABLE: //add clear code 47
-					resourceId = R.string.callFailed_telcel_fourseven;
-					break;
-				case android.telephony.DisconnectCause.QOS_NOT_AVAIL: //add clear code 49
-					resourceId = R.string.callFailed_telcel_fournine;
-					break;
-				case android.telephony.DisconnectCause.REQUESTED_FACILITY_NOT_SUBSCRIBED: //add clear code 50
-					resourceId = R.string.callFailed_telcel_fifty;
-					break;
-				case android.telephony.DisconnectCause.INCOMING_CALL_BARRED_WITHIN_CUG: //add clear code 55
-					resourceId = R.string.callFailed_telcel_fivefive;
-					break;
-				case android.telephony.DisconnectCause.BEARER_NOT_AUTHORIZED: //add clear code 57
-					resourceId = R.string.callFailed_telcel_fiveseven;
-					break;
-				case android.telephony.DisconnectCause.BEARER_NOT_AVAIL: //add clear code 58
-					resourceId = R.string.callFailed_telcel_fiveeight;
-					break;
-				case android.telephony.DisconnectCause.SERVICE_NOT_AVAILABLE: //add clear code 63
-					resourceId = R.string.callFailed_telcel_sixthree;
-					break;
-				case android.telephony.DisconnectCause.BEARER_NOT_IMPLEMENT: //add clear code 65
-					resourceId = R.string.callFailed_telcel_sixfive;
-					break;
-				case android.telephony.DisconnectCause.LIMIT_EXCEEDED: //add clear code 68
-					resourceId = R.string.callFailed_telcel_sixeight;
-					break;
-				case android.telephony.DisconnectCause.FACILITY_NOT_IMPLEMENT: //add clear code 69
-					resourceId = R.string.callFailed_telcel_sixnine;
-					break;
-				case android.telephony.DisconnectCause.RESTRICTED_BEARER_AVAILABLE: //add clear code 70
-					resourceId = R.string.callFailed_telcel_seventy;
-					break;
-				case android.telephony.DisconnectCause.OPTION_NOT_AVAILABLE: //add clear code 79
-					resourceId = R.string.callFailed_telcel_sevennine;
-					break;
-				case android.telephony.DisconnectCause.INVALID_TRANSACTION_ID_VALUE: //add clear code 81
-					resourceId = R.string.callFailed_telcel_eightone;
-					break;
-				case android.telephony.DisconnectCause.USER_NOT_MEMBER_OF_CUG: //add clear code 87
-					resourceId = R.string.callFailed_telcel_eightseven;
-					break;
-				case android.telephony.DisconnectCause.INCOMPATIBLE_DESTINATION: //add clear code 88
-					resourceId = R.string.callFailed_telcel_eighteight;
-					break;
-				case android.telephony.DisconnectCause.SEMANTICALLY_INCORRECT_MESSAGE: //add clear code 95
-					resourceId = R.string.callFailed_telcel_ninefive;
-					break;
-				case android.telephony.DisconnectCause.INVALID_MANDATORY_INFORMATION: //add clear code 96
-					resourceId = R.string.callFailed_telcel_ninesix;
-					break;
-				case android.telephony.DisconnectCause.MESSAGE_TYPE_NON_EXISTENT: //add clear code 97
-					resourceId = R.string.callFailed_telcel_nineseven;
-					break;
-				case android.telephony.DisconnectCause.MESSAGE_TYPE_NOT_COMPATIBLE_WITH_PROT_STATE: //add clear code 98
-					resourceId = R.string.callFailed_telcel_nineeight;
-					break;
-				case android.telephony.DisconnectCause.IE_NON_EXISTENT_OR_NOT_IMPLEMENTED: //add clear code 99
-					resourceId = R.string.callFailed_telcel_ninenine;
-					break;
-				case android.telephony.DisconnectCause.CONDITIONAL_IE_ERROR: //add clear code 100
-					resourceId = R.string.callFailed_telcel_hundred;
-					break;
-				case android.telephony.DisconnectCause.MESSAGE_NOT_COMPATIBLE_WITH_PROTOCOL_STATE: //add clear code 101
-					resourceId = R.string.callFailed_telcel_hundredone;
-					break;
-				case android.telephony.DisconnectCause.RECOVERY_ON_TIMER_EXPIRY: //add clear code 102
-					resourceId = R.string.callFailed_telcel_hundredtwo;
-					break;
-				case android.telephony.DisconnectCause.PROTOCOL_ERROR_UNSPECIFIED: //add clear code 111
-					resourceId = R.string.callFailed_telcel_hundredeleven;
-					break;
-				case android.telephony.DisconnectCause.INTERWORKING_UNSPECIFIED: //add clear code 127
-					resourceId = R.string.callFailed_telcel_hundredtwoseven;
-					break;
-                default:
-                    break;
-				}
-			}
-		}
-		Log.i("chenhu", "resourceId="+resourceId);
         return resourceId == null ? ExtensionManager.getDisconnectCauseExt()
                 .toDisconnectCauseDescription(telephonyDisconnectCause, "")
                 : context.getResources().getString(resourceId);
Index: vendor/branch/5058A_Telcel/frameworks/opt/telephony/src/java/com/android/internal/telephony/CallFailCause.java
===================================================================
--- vendor/branch/5058A_Telcel/frameworks/opt/telephony/src/java/com/android/internal/telephony/CallFailCause.java	(revision 6172)
+++ vendor/branch/5058A_Telcel/frameworks/opt/telephony/src/java/com/android/internal/telephony/CallFailCause.java	(revision 6173)
@@ -31,6 +31,52 @@
     // Unassigned/Unobtainable number
     int UNOBTAINABLE_NUMBER = 1;
 
+    int OPERATOR_TELCEL_ONE = 2001;//add clear code 1
+    int OPERATOR_TELCEL_THREE = 2003;//add clear code 3
+    int OPERATOR_TELCEL_SIX = 2006;//add clear code 6
+    int OPERATOR_TELCEL_EIGHT = 2008;//add clear code 8
+    int OPERATOR_TELCEL_SEVENTEEN = 2017;//add clear code 17
+    int OPERATOR_TELCEL_EIGHTEEN = 2018;//add clear code 18
+    int OPERATOR_TELCEL_NINETEEN = 2019;//add clear code 19
+    int OPERATOR_TELCEL_TWOONE = 2021;//add clear code 21
+    int OPERATOR_TELCEL_TWOTWO = 2022;//add clear code 22
+    int OPERATOR_TELCEL_TWOSIX = 2026;//add clear code 26
+    int OPERATOR_TELCEL_TWOSEVEN = 2027;//add clear code 27
+    int OPERATOR_TELCEL_TWOEIGHT = 2028;//add clear code 28
+    int OPERATOR_TELCEL_TWONINE = 2029;//add clear code 29
+    int OPERATOR_TELCEL_THIRTY = 2030;//add clear code 30
+    int OPERATOR_TELCEL_THREEONE = 2031;//add clear code 31
+    int OPERATOR_TELCEL_THREEEIGHT = 2038;//add clear code 38
+    int OPERATOR_TELCEL_FOURONE = 2041;//add clear code 41
+    int OPERATOR_TELCEL_FOURTWO = 2042;//add clear code 42
+    int OPERATOR_TELCEL_FOURTHREE = 2043;//add clear code 43
+    int OPERATOR_TELCEL_FOURFOUR = 2044;//add clear code 44
+    int OPERATOR_TELCEL_FOURSEVEN = 2047;//add clear code 47
+    int OPERATOR_TELCEL_FOURNINE = 2049;//add clear code 49
+    int OPERATOR_TELCEL_FIFTY = 2050;//add clear code 50
+    int OPERATOR_TELCEL_FIVEFIVE = 2055;//add clear code 55
+    int OPERATOR_TELCEL_FIVESEVEN = 2057;//add clear code 57
+    int OPERATOR_TELCEL_FIVEEIGHT = 2058;//add clear code 58
+    int OPERATOR_TELCEL_SIXTHREE = 2063;//add clear code 63
+    int OPERATOR_TELCEL_SIXFIVE = 2065;//add clear code 65
+    int OPERATOR_TELCEL_SIXEIGHT = 2068;//add clear code 68
+    int OPERATOR_TELCEL_SIXNINE = 2069;//add clear code 69
+    int OPERATOR_TELCEL_SEVENTY = 2070;//add clear code 70
+    int OPERATOR_TELCEL_SEVENNINE = 2079;//add clear code 79
+    int OPERATOR_TELCEL_EIGHTONE = 2081;//add clear code 81
+    int OPERATOR_TELCEL_EIGHTSEVEN = 2087;//add clear code 87
+    int OPERATOR_TELCEL_EIGHTEIGHT = 2088;//add clear code 88
+    int OPERATOR_TELCEL_NINEFIVE = 2095;//add clear code 95
+    int OPERATOR_TELCEL_NINESIX = 2096;//add clear code 96
+    int OPERATOR_TELCEL_NINESEVEN = 2097;//add clear code 97
+    int OPERATOR_TELCEL_NINEEIGHT = 2098;//add clear code 98
+    int OPERATOR_TELCEL_NINENINE = 2099;//add clear code 99
+    int OPERATOR_TELCEL_HUNDRED = 2100;//add clear code 100
+    int OPERATOR_TELCEL_HUNDREDONE = 2101;//add clear code 101
+    int OPERATOR_TELCEL_HUNDREDTWO = 2102;//add clear code 102
+    int OPERATOR_TELCEL_HUNDREDELEVEN = 2111;//add clear code 111
+    int OPERATOR_TELCEL_HUNDREDTWOSEVEN = 2127;//add clear code 127
+
     int NORMAL_CLEARING     = 16;
     // Busy Tone
     int USER_BUSY           = 17;
Index: vendor/branch/5058A_Telcel/frameworks/opt/telephony/src/java/com/android/internal/telephony/GsmCdmaConnection.java
===================================================================
--- vendor/branch/5058A_Telcel/frameworks/opt/telephony/src/java/com/android/internal/telephony/GsmCdmaConnection.java	(revision 6172)
+++ vendor/branch/5058A_Telcel/frameworks/opt/telephony/src/java/com/android/internal/telephony/GsmCdmaConnection.java	(revision 6173)
@@ -34,6 +34,7 @@
 import android.telephony.Rlog;
 import android.telephony.PhoneNumberUtils;
 import android.telephony.ServiceState;
+import android.telephony.TelephonyManager;
 import android.text.TextUtils;
 
 import com.android.internal.telephony.cdma.CdmaCallWaitingNotification;
@@ -73,6 +74,9 @@
     GsmCdmaCallTracker mOwner;
     GsmCdmaCall mParent;
 
+    //add by chenhu
+    private Context mContext;
+
     boolean mDisconnected;
 
     public int mIndex;          // index in GsmCdmaCallTracker.connections[], -1 if unassigned
@@ -173,6 +177,7 @@
         createWakeLock(phone.getContext());
         acquireWakeLock();
 
+		mContext = phone.getContext();
         mOwner = ct;
         mHandler = new MyHandler(mOwner.getLooper());
 
@@ -216,6 +221,7 @@
         createWakeLock(phone.getContext());
         acquireWakeLock();
 
+		mContext = phone.getContext();
         mOwner = ct;
         mHandler = new MyHandler(mOwner.getLooper());
 
@@ -273,6 +279,7 @@
         createWakeLock(context);
         acquireWakeLock();
 
+		mContext = context;
         mOwner = ct;
         mHandler = new MyHandler(mOwner.getLooper());
         mAddress = cw.number;
@@ -502,12 +509,9 @@
 
             case CallFailCause.NO_CIRCUIT_AVAIL:
             case CallFailCause.TEMPORARY_FAILURE:
-                return DisconnectCause.TEMPORARY_FAILURE;
             case CallFailCause.SWITCHING_CONGESTION:
             case CallFailCause.CHANNEL_NOT_AVAIL:
-                return DisconnectCause.CHANNEL_NOT_AVAIL;
             case CallFailCause.QOS_NOT_AVAIL:
-                return DisconnectCause.QOS_NOT_AVAIL;
             case CallFailCause.BEARER_NOT_AVAIL:
                 return DisconnectCause.CONGESTION;
 
@@ -583,11 +587,11 @@
              * Return DisconnectCause.ERROR_UNSPECIFIED to play TONE_CALL_ENDED for
              * CALL_REJECTED(+CEER: 21) and NORMAL_UNSPECIFIED(+CEER: 31)
              */
-            case CallFailCause.CALL_REJECTED:
-                return DisconnectCause.CALL_REJECTED;
+            //case CallFailCause.CALL_REJECTED:
+            //    return DisconnectCause.CALL_REJECTED;
 
-            case CallFailCause.NORMAL_UNSPECIFIED:
-                return DisconnectCause.NORMAL_UNSPECIFIED;
+            //case CallFailCause.NORMAL_UNSPECIFIED:
+            //    return DisconnectCause.NORMAL_UNSPECIFIED;
 
             case CallFailCause.INVALID_NUMBER_FORMAT:
                 return DisconnectCause.INVALID_NUMBER_FORMAT;
@@ -602,9 +606,9 @@
                 return DisconnectCause.BEARER_NOT_AUTHORIZED;
 
             case CallFailCause.SERVICE_NOT_AVAILABLE:
+
+            case CallFailCause.NETWORK_OUT_OF_ORDER:
                 return DisconnectCause.SERVICE_NOT_AVAILABLE;
-            case CallFailCause.NETWORK_OUT_OF_ORDER:
-                return DisconnectCause.NETWORK_OUT_OF_ORDER;
 
             case CallFailCause.BEARER_NOT_IMPLEMENT:
                 return DisconnectCause.BEARER_NOT_IMPLEMENT;
@@ -688,12 +692,6 @@
             case CallFailCause.PROTOCOL_ERROR_UNSPECIFIED:
                 return DisconnectCause.PROTOCOL_ERROR_UNSPECIFIED;
 
-            /* add Start by chenhu, 2018-01-08 for call celar code */   
-            case CallFailCause.NUMBER_CHANGED:
-                return DisconnectCause.NUMBER_CHANGED;
-            case CallFailCause.STATUS_ENQUIRY:
-                return DisconnectCause.STATUS_ENQUIRY;
-            /* add End by chenhu, 2018-01-08 for call celar code */
             /**
              * Google default behavior:
              * Return DisconnectCause.ERROR_UNSPECIFIED to avoid UNKNOWN cause in inCallUI,
@@ -711,6 +709,96 @@
                     return DisconnectCause.NORMAL;
                 }
             /// @}
+            case CallFailCause.OPERATOR_TELCEL_ONE: //add clear code 1
+                return DisconnectCause.OPERATOR_TELCEL_ONE;
+            case CallFailCause.OPERATOR_TELCEL_THREE: //add clear code 3
+                return DisconnectCause.OPERATOR_TELCEL_THREE;
+            case CallFailCause.OPERATOR_TELCEL_SIX: //add clear code 6
+                return DisconnectCause.OPERATOR_TELCEL_SIX;
+            case CallFailCause.OPERATOR_TELCEL_EIGHT: //add clear code 8
+                return DisconnectCause.OPERATOR_TELCEL_EIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_SEVENTEEN: //add clear code 17
+                return DisconnectCause.OPERATOR_TELCEL_SEVENTEEN; 
+			case CallFailCause.OPERATOR_TELCEL_EIGHTEEN: //add clear code 18
+                return DisconnectCause.OPERATOR_TELCEL_EIGHTEEN;
+			case CallFailCause.OPERATOR_TELCEL_NINETEEN: //add clear code 19
+                return DisconnectCause.OPERATOR_TELCEL_NINETEEN; 
+			case CallFailCause.OPERATOR_TELCEL_TWOONE: //add clear code 21
+                return DisconnectCause.OPERATOR_TELCEL_TWOONE; 
+			case CallFailCause.OPERATOR_TELCEL_TWOTWO: //add clear code 22
+                return DisconnectCause.OPERATOR_TELCEL_TWOTWO; 
+			case CallFailCause.OPERATOR_TELCEL_TWOSIX: //add clear code 26
+                return DisconnectCause.OPERATOR_TELCEL_TWOSIX; 
+			case CallFailCause.OPERATOR_TELCEL_TWOSEVEN: //add clear code 27
+                return DisconnectCause.OPERATOR_TELCEL_TWOSEVEN; 
+			case CallFailCause.OPERATOR_TELCEL_TWOEIGHT: //add clear code 28
+                return DisconnectCause.OPERATOR_TELCEL_TWOEIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_TWONINE: //add clear code 29
+                return DisconnectCause.OPERATOR_TELCEL_TWONINE; 
+			case CallFailCause.OPERATOR_TELCEL_THIRTY: //add clear code 30
+                return DisconnectCause.OPERATOR_TELCEL_THIRTY; 
+			case CallFailCause.OPERATOR_TELCEL_THREEONE: //add clear code 31
+                return DisconnectCause.OPERATOR_TELCEL_THREEONE; 
+			case CallFailCause.OPERATOR_TELCEL_THREEEIGHT: //add clear code 38
+                return DisconnectCause.OPERATOR_TELCEL_THREEEIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_FOURONE: //add clear code 41
+                return DisconnectCause.OPERATOR_TELCEL_FOURONE; 
+			case CallFailCause.OPERATOR_TELCEL_FOURTWO: //add clear code 42
+                return DisconnectCause.OPERATOR_TELCEL_FOURTWO; 
+			case CallFailCause.OPERATOR_TELCEL_FOURTHREE: //add clear code 43
+                return DisconnectCause.OPERATOR_TELCEL_FOURTHREE; 
+			case CallFailCause.OPERATOR_TELCEL_FOURFOUR: //add clear code 44
+                return DisconnectCause.OPERATOR_TELCEL_FOURFOUR; 
+			case CallFailCause.OPERATOR_TELCEL_FOURSEVEN: //add clear code 47
+                return DisconnectCause.OPERATOR_TELCEL_FOURSEVEN; 
+			case CallFailCause.OPERATOR_TELCEL_FOURNINE: //add clear code 49
+                return DisconnectCause.OPERATOR_TELCEL_FOURNINE; 
+			case CallFailCause.OPERATOR_TELCEL_FIFTY: //add clear code 50
+                return DisconnectCause.OPERATOR_TELCEL_FIFTY; 
+			case CallFailCause.OPERATOR_TELCEL_FIVEFIVE: //add clear code 55
+                return DisconnectCause.OPERATOR_TELCEL_FIVEFIVE; 
+			case CallFailCause.OPERATOR_TELCEL_FIVESEVEN: //add clear code 57
+                return DisconnectCause.OPERATOR_TELCEL_FIVESEVEN; 
+			case CallFailCause.OPERATOR_TELCEL_FIVEEIGHT: //add clear code 58
+                return DisconnectCause.OPERATOR_TELCEL_FIVEEIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_SIXTHREE: //add clear code 63
+                return DisconnectCause.OPERATOR_TELCEL_SIXTHREE; 
+			case CallFailCause.OPERATOR_TELCEL_SIXFIVE: //add clear code 65
+                return DisconnectCause.OPERATOR_TELCEL_SIXFIVE; 
+			case CallFailCause.OPERATOR_TELCEL_SIXEIGHT: //add clear code 68
+                return DisconnectCause.OPERATOR_TELCEL_SIXEIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_SIXNINE: //add clear code 69
+                return DisconnectCause.OPERATOR_TELCEL_SIXNINE; 
+			case CallFailCause.OPERATOR_TELCEL_SEVENTY: //add clear code 70
+                return DisconnectCause.OPERATOR_TELCEL_SEVENTY; 
+			case CallFailCause.OPERATOR_TELCEL_SEVENNINE: //add clear code 79
+                return DisconnectCause.OPERATOR_TELCEL_SEVENNINE; 
+			case CallFailCause.OPERATOR_TELCEL_EIGHTONE: //add clear code 81
+                return DisconnectCause.OPERATOR_TELCEL_EIGHTONE; 
+			case CallFailCause.OPERATOR_TELCEL_EIGHTSEVEN: //add clear code 87
+                return DisconnectCause.OPERATOR_TELCEL_EIGHTSEVEN; 
+			case CallFailCause.OPERATOR_TELCEL_EIGHTEIGHT: //add clear code 88
+                return DisconnectCause.OPERATOR_TELCEL_EIGHTEIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_NINEFIVE: //add clear code 95
+                return DisconnectCause.OPERATOR_TELCEL_NINEFIVE; 
+			case CallFailCause.OPERATOR_TELCEL_NINESIX: //add clear code 96
+                return DisconnectCause.OPERATOR_TELCEL_NINESIX; 
+			case CallFailCause.OPERATOR_TELCEL_NINESEVEN: //add clear code 97
+                return DisconnectCause.OPERATOR_TELCEL_NINESEVEN; 
+			case CallFailCause.OPERATOR_TELCEL_NINEEIGHT: //add clear code 98
+                return DisconnectCause.OPERATOR_TELCEL_NINEEIGHT; 
+			case CallFailCause.OPERATOR_TELCEL_NINENINE: //add clear code 99
+                return DisconnectCause.OPERATOR_TELCEL_NINENINE; 
+			case CallFailCause.OPERATOR_TELCEL_HUNDRED: //add clear code 100
+                return DisconnectCause.OPERATOR_TELCEL_HUNDRED; 
+			case CallFailCause.OPERATOR_TELCEL_HUNDREDONE: //add clear code 101
+                return DisconnectCause.OPERATOR_TELCEL_HUNDREDONE; 
+			case CallFailCause.OPERATOR_TELCEL_HUNDREDTWO: //add clear code 102
+                return DisconnectCause.OPERATOR_TELCEL_HUNDREDTWO; 
+			case CallFailCause.OPERATOR_TELCEL_HUNDREDELEVEN: //add clear code 111
+                return DisconnectCause.OPERATOR_TELCEL_HUNDREDELEVEN; 
+			case CallFailCause.OPERATOR_TELCEL_HUNDREDTWOSEVEN: //add clear code 127
+                return DisconnectCause.OPERATOR_TELCEL_HUNDREDTWOSEVEN; 
             case CallFailCause.ERROR_UNSPECIFIED:
             case CallFailCause.NORMAL_CLEARING:
             default:
@@ -809,9 +897,117 @@
     onRemoteDisconnect(int causeCode, String vendorCause) {
         this.mPreciseCause = causeCode;
         this.mVendorCause = vendorCause;
-        onDisconnect(disconnectCauseFromCode(causeCode));
+		int newCauseCode = causeCode;
+		TelephonyManager telManager = (TelephonyManager) mContext.getSystemService(Context.TELEPHONY_SERVICE);
+		String imsi = telManager.getSubscriberId();
+		if (imsi != null) {
+			if (imsi.startsWith("334020")) {
+				newCauseCode = getNewCauseCode(causeCode);
+			}
+		}
+		Rlog.i(LOG_TAG, "newCauseCode=" + newCauseCode);
+        onDisconnect(disconnectCauseFromCode(newCauseCode));
     }
 
+	public int getNewCauseCode (int causeCode) {
+		switch (causeCode) {
+			case 1:
+				return 2001;
+			case 3:
+				return 2003;
+			case 6:
+				return 2006;
+			case 8:
+				return 2008;
+			case 17:
+				return 2017;
+			case 18:
+				return 2018;
+			case 19:
+				return 2019;
+			case 21:
+				return 2021;
+			case 22:
+				return 2022;
+			case 26:
+				return 2026;
+			case 27:
+				return 2027;
+			case 28:
+				return 2028;
+			case 29:
+				return 2029;
+			case 30:
+				return 2030;
+			case 31:
+				return 2031;
+			case 34:
+				return 2034;
+			case 38:
+				return 2038;
+			case 41:
+				return 2041;
+			case 42:
+				return 2042;
+			case 43:
+				return 2043;
+			case 44:
+				return 2044;
+			case 47:
+				return 2047;
+			case 49:
+				return 2049;
+			case 50:
+				return 2050;
+			case 55:
+				return 2055;
+			case 57:
+				return 2057;
+			case 58:
+				return 2058;
+			case 63:
+				return 2063;
+			case 65:
+				return 2065;
+			case 68:
+				return 2068;
+			case 69:
+				return 2069;
+			case 70:
+				return 2070;
+			case 79:
+				return 2079;
+			case 81:
+				return 2081;
+			case 87:
+				return 2087;
+			case 88:
+				return 2088;
+			case 95:
+				return 2095;
+			case 96:
+				return 2096;
+			case 97:
+				return 2097;
+			case 98:
+				return 2098;
+			case 99:
+				return 2099;
+			case 100:
+				return 2100;
+			case 101:
+				return 2101;
+			case 102:
+				return 2102;
+			case 111:
+				return 2111;
+			case 127:
+				return 2127;
+			default:
+				return causeCode;
+		}
+	}
+
     /**
      * Called when the radio indicates the connection has been disconnected.
      * @param cause call disconnect cause; values are defined in {@link DisconnectCause}
Index: vendor/branch/5058A_Telcel/frameworks/base/telephony/java/android/telephony/DisconnectCause.java
===================================================================
--- vendor/branch/5058A_Telcel/frameworks/base/telephony/java/android/telephony/DisconnectCause.java	(revision 6172)
+++ vendor/branch/5058A_Telcel/frameworks/base/telephony/java/android/telephony/DisconnectCause.java	(revision 6173)
@@ -431,38 +431,52 @@
      */
     public static final int VOLTE_SS_DATA_OFF              = MTK_DISCONNECTED_CAUSE_BASE + 42;
     /// @}
-
-    /* add Start by chenhu, 2018-01-08 for call celar code */
-    /**
-     * @hide
-     */
-    public static final int NUMBER_CHANGED    = MTK_DISCONNECTED_CAUSE_BASE + 43;
-
-    /**
-     * @hide
-     */
-    public static final int STATUS_ENQUIRY    = MTK_DISCONNECTED_CAUSE_BASE + 44;
-
-    /**
-     * @hide
-     */
-    public static final int TEMPORARY_FAILURE    = MTK_DISCONNECTED_CAUSE_BASE + 45;
-
-    /**
-     * @hide
-     */
-    public static final int CHANNEL_NOT_AVAIL    = MTK_DISCONNECTED_CAUSE_BASE + 46;
-
-    /**
-     * @hide
-     */
-    public static final int QOS_NOT_AVAIL    = MTK_DISCONNECTED_CAUSE_BASE + 47;
-
-    /**
-     * @hide
-     */
-    public static final int NETWORK_OUT_OF_ORDER    = MTK_DISCONNECTED_CAUSE_BASE + 48;
-    /* add End by chenhu, 2018-01-08 for call celar code */
+    
+    public static final int OPERATOR_TELCEL_ONE = MTK_DISCONNECTED_CAUSE_BASE + 43;//add clear code 1
+    public static final int OPERATOR_TELCEL_THREE = MTK_DISCONNECTED_CAUSE_BASE + 44;//add clear code 3
+    public static final int OPERATOR_TELCEL_SIX = MTK_DISCONNECTED_CAUSE_BASE + 45;//add clear code 6
+    public static final int OPERATOR_TELCEL_EIGHT = MTK_DISCONNECTED_CAUSE_BASE + 46;//add clear code 8
+    public static final int OPERATOR_TELCEL_SEVENTEEN = MTK_DISCONNECTED_CAUSE_BASE + 47;//add clear code 17
+    public static final int OPERATOR_TELCEL_EIGHTEEN = MTK_DISCONNECTED_CAUSE_BASE + 48;//add clear code 18
+    public static final int OPERATOR_TELCEL_NINETEEN = MTK_DISCONNECTED_CAUSE_BASE + 49;//add clear code 19
+    public static final int OPERATOR_TELCEL_TWOONE = MTK_DISCONNECTED_CAUSE_BASE + 50;//add clear code 21
+    public static final int OPERATOR_TELCEL_TWOTWO = MTK_DISCONNECTED_CAUSE_BASE + 51;//add clear code 22
+    public static final int OPERATOR_TELCEL_TWOSIX = MTK_DISCONNECTED_CAUSE_BASE + 52;//add clear code 26
+    public static final int OPERATOR_TELCEL_TWOSEVEN = MTK_DISCONNECTED_CAUSE_BASE + 53;//add clear code 27
+    public static final int OPERATOR_TELCEL_TWOEIGHT = MTK_DISCONNECTED_CAUSE_BASE + 54;//add clear code 28
+    public static final int OPERATOR_TELCEL_TWONINE = MTK_DISCONNECTED_CAUSE_BASE + 55;//add clear code 29
+    public static final int OPERATOR_TELCEL_THIRTY = MTK_DISCONNECTED_CAUSE_BASE + 56;//add clear code 30
+    public static final int OPERATOR_TELCEL_THREEONE = MTK_DISCONNECTED_CAUSE_BASE + 57;//add clear code 31
+    public static final int OPERATOR_TELCEL_THREEEIGHT = MTK_DISCONNECTED_CAUSE_BASE + 58;//add clear code 38
+    public static final int OPERATOR_TELCEL_FOURONE = MTK_DISCONNECTED_CAUSE_BASE + 59;//add clear code 41
+    public static final int OPERATOR_TELCEL_FOURTWO = MTK_DISCONNECTED_CAUSE_BASE + 60;//add clear code 42
+    public static final int OPERATOR_TELCEL_FOURTHREE = MTK_DISCONNECTED_CAUSE_BASE + 61;//add clear code 43
+    public static final int OPERATOR_TELCEL_FOURFOUR = MTK_DISCONNECTED_CAUSE_BASE + 62;//add clear code 44
+    public static final int OPERATOR_TELCEL_FOURSEVEN = MTK_DISCONNECTED_CAUSE_BASE + 63;//add clear code 47
+    public static final int OPERATOR_TELCEL_FOURNINE = MTK_DISCONNECTED_CAUSE_BASE + 64;//add clear code 49
+    public static final int OPERATOR_TELCEL_FIFTY = MTK_DISCONNECTED_CAUSE_BASE + 65;//add clear code 50
+    public static final int OPERATOR_TELCEL_FIVEFIVE = MTK_DISCONNECTED_CAUSE_BASE + 66;//add clear code 55
+    public static final int OPERATOR_TELCEL_FIVESEVEN = MTK_DISCONNECTED_CAUSE_BASE + 67;//add clear code 57
+    public static final int OPERATOR_TELCEL_FIVEEIGHT = MTK_DISCONNECTED_CAUSE_BASE + 68;//add clear code 58
+    public static final int OPERATOR_TELCEL_SIXTHREE = MTK_DISCONNECTED_CAUSE_BASE + 69;//add clear code 63
+    public static final int OPERATOR_TELCEL_SIXFIVE = MTK_DISCONNECTED_CAUSE_BASE + 70;//add clear code 65
+    public static final int OPERATOR_TELCEL_SIXEIGHT = MTK_DISCONNECTED_CAUSE_BASE + 71;//add clear code 68
+    public static final int OPERATOR_TELCEL_SIXNINE = MTK_DISCONNECTED_CAUSE_BASE + 72;//add clear code 69
+    public static final int OPERATOR_TELCEL_SEVENTY = MTK_DISCONNECTED_CAUSE_BASE + 73;//add clear code 70
+    public static final int OPERATOR_TELCEL_SEVENNINE = MTK_DISCONNECTED_CAUSE_BASE + 74;//add clear code 79
+    public static final int OPERATOR_TELCEL_EIGHTONE = MTK_DISCONNECTED_CAUSE_BASE + 75;//add clear code 81
+    public static final int OPERATOR_TELCEL_EIGHTSEVEN = MTK_DISCONNECTED_CAUSE_BASE + 76;//add clear code 87
+    public static final int OPERATOR_TELCEL_EIGHTEIGHT = MTK_DISCONNECTED_CAUSE_BASE + 77;//add clear code 88
+    public static final int OPERATOR_TELCEL_NINEFIVE = MTK_DISCONNECTED_CAUSE_BASE + 78;//add clear code 95
+    public static final int OPERATOR_TELCEL_NINESIX = MTK_DISCONNECTED_CAUSE_BASE + 79;//add clear code 96
+    public static final int OPERATOR_TELCEL_NINESEVEN = MTK_DISCONNECTED_CAUSE_BASE + 80;//add clear code 97
+    public static final int OPERATOR_TELCEL_NINEEIGHT = MTK_DISCONNECTED_CAUSE_BASE + 81;//add clear code 98
+    public static final int OPERATOR_TELCEL_NINENINE = MTK_DISCONNECTED_CAUSE_BASE + 82;//add clear code 99
+    public static final int OPERATOR_TELCEL_HUNDRED = MTK_DISCONNECTED_CAUSE_BASE + 83;//add clear code 100
+    public static final int OPERATOR_TELCEL_HUNDREDONE = MTK_DISCONNECTED_CAUSE_BASE + 84;//add clear code 101
+    public static final int OPERATOR_TELCEL_HUNDREDTWO = MTK_DISCONNECTED_CAUSE_BASE + 85;//add clear code 102
+    public static final int OPERATOR_TELCEL_HUNDREDELEVEN = MTK_DISCONNECTED_CAUSE_BASE + 86;//add clear code 111
+    public static final int OPERATOR_TELCEL_HUNDREDTWOSEVEN = MTK_DISCONNECTED_CAUSE_BASE + 87;//add clear code 127
     /// M: IMS feature. @{
     public static final int IMS_EMERGENCY_REREG = 380;
     /// @}
@@ -696,6 +710,96 @@
         case VOLTE_SS_DATA_OFF:
             return "VOLTE_SS_DATA_OFF";
         /// @}
+        case OPERATOR_TELCEL_ONE:
+            return "OPERATOR_TELCEL_ONE";
+        case OPERATOR_TELCEL_THREE:
+            return "OPERATOR_TELCEL_THREE";
+        case OPERATOR_TELCEL_SIX:
+            return "OPERATOR_TELCEL_SIX";
+        case OPERATOR_TELCEL_EIGHT:
+            return "OPERATOR_TELCEL_EIGHT";
+		case OPERATOR_TELCEL_SEVENTEEN:
+            return "OPERATOR_TELCEL_SEVENTEEN";
+		case OPERATOR_TELCEL_EIGHTEEN:
+            return "OPERATOR_TELCEL_EIGHTEEN";
+		case OPERATOR_TELCEL_NINETEEN:
+            return "OPERATOR_TELCEL_NINETEEN";
+		case OPERATOR_TELCEL_TWOONE:
+            return "OPERATOR_TELCEL_TWOONE";
+		case OPERATOR_TELCEL_TWOTWO:
+            return "OPERATOR_TELCEL_TWOTWO";
+		case OPERATOR_TELCEL_TWOSIX:
+            return "OPERATOR_TELCEL_TWOSIX";
+		case OPERATOR_TELCEL_TWOSEVEN:
+            return "OPERATOR_TELCEL_TWOSEVEN";
+		case OPERATOR_TELCEL_TWOEIGHT:
+            return "OPERATOR_TELCEL_TWOEIGHT";
+		case OPERATOR_TELCEL_TWONINE:
+            return "OPERATOR_TELCEL_TWONINE";
+		case OPERATOR_TELCEL_THIRTY:
+            return "OPERATOR_TELCEL_THIRTY";
+		case OPERATOR_TELCEL_THREEONE:
+            return "OPERATOR_TELCEL_THREEONE";
+		case OPERATOR_TELCEL_THREEEIGHT:
+            return "OPERATOR_TELCEL_THREEEIGHT";
+		case OPERATOR_TELCEL_FOURONE:
+            return "OPERATOR_TELCEL_FOURONE";
+		case OPERATOR_TELCEL_FOURTWO:
+            return "OPERATOR_TELCEL_FOURTWO";
+		case OPERATOR_TELCEL_FOURTHREE:
+            return "OPERATOR_TELCEL_FOURTHREE";
+		case OPERATOR_TELCEL_FOURFOUR:
+            return "OPERATOR_TELCEL_FOURFOUR";
+		case OPERATOR_TELCEL_FOURSEVEN:
+            return "OPERATOR_TELCEL_FOURSEVEN";
+		case OPERATOR_TELCEL_FOURNINE:
+            return "OPERATOR_TELCEL_FOURNINE";
+		case OPERATOR_TELCEL_FIFTY:
+            return "OPERATOR_TELCEL_FIFTY";
+		case OPERATOR_TELCEL_FIVEFIVE:
+            return "OPERATOR_TELCEL_FIVEFIVE";
+		case OPERATOR_TELCEL_FIVESEVEN:
+            return "OPERATOR_TELCEL_FIVESEVEN";
+		case OPERATOR_TELCEL_FIVEEIGHT:
+            return "OPERATOR_TELCEL_FIVEEIGHT";
+		case OPERATOR_TELCEL_SIXTHREE:
+            return "OPERATOR_TELCEL_SIXTHREE";
+		case OPERATOR_TELCEL_SIXFIVE:
+            return "OPERATOR_TELCEL_SIXFIVE";
+		case OPERATOR_TELCEL_SIXEIGHT:
+            return "OPERATOR_TELCEL_SIXEIGHT";
+		case OPERATOR_TELCEL_SIXNINE:
+            return "OPERATOR_TELCEL_SIXNINE";
+		case OPERATOR_TELCEL_SEVENTY:
+            return "OPERATOR_TELCEL_SEVENTY";
+		case OPERATOR_TELCEL_SEVENNINE:
+            return "OPERATOR_TELCEL_SEVENNINE";
+		case OPERATOR_TELCEL_EIGHTONE:
+            return "OPERATOR_TELCEL_EIGHTONE";
+		case OPERATOR_TELCEL_EIGHTSEVEN:
+            return "OPERATOR_TELCEL_EIGHTSEVEN";
+		case OPERATOR_TELCEL_EIGHTEIGHT:
+            return "OPERATOR_TELCEL_EIGHTEIGHT";
+		case OPERATOR_TELCEL_NINEFIVE:
+            return "OPERATOR_TELCEL_NINEFIVE";
+		case OPERATOR_TELCEL_NINESIX:
+            return "OPERATOR_TELCEL_NINESIX";
+		case OPERATOR_TELCEL_NINESEVEN:
+            return "OPERATOR_TELCEL_NINESEVEN";
+		case OPERATOR_TELCEL_NINEEIGHT:
+            return "OPERATOR_TELCEL_NINEEIGHT";
+		case OPERATOR_TELCEL_NINENINE:
+            return "OPERATOR_TELCEL_NINENINE";
+		case OPERATOR_TELCEL_HUNDRED:
+            return "OPERATOR_TELCEL_HUNDRED";
+		case OPERATOR_TELCEL_HUNDREDONE:
+            return "OPERATOR_TELCEL_HUNDREDONE";
+		case OPERATOR_TELCEL_HUNDREDTWO:
+            return "OPERATOR_TELCEL_HUNDREDTWO";
+		case OPERATOR_TELCEL_HUNDREDELEVEN:
+            return "OPERATOR_TELCEL_HUNDREDELEVEN";
+		case OPERATOR_TELCEL_HUNDREDTWOSEVEN:
+            return "OPERATOR_TELCEL_HUNDREDTWOSEVEN";
         default:
             return "INVALID: " + cause;
         }
